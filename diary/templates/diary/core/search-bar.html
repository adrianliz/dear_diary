{% load static %}

<div class="row my-3">
  <div class="col">
    <input id="searchBar" class="form-control" type="search" placeholder="Search">
  </div>
  <div class="col">
    <div class="row">
      <a id="searchHref" class="btn btn-outline-success">Search</a>
    </div>
  </div>
  <div class="col text-right">
    <a class="btn btn-outline-info" href="{% url 'diary:community' %}">Refresh</a>
  </div>
</div>

<script>
  let searchHref = document.getElementById("searchHref")
  const searchBar = document.getElementById("searchBar")

  searchBar.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
      event.preventDefault();

      const url = window.location.href.split('?')[0];
      window.location = url + "?search=" + searchBar.value
    }
  });

  searchHref.onclick = function () {
    searchHref.href = "{{ request.path }}?search=" + searchBar.value
  }
</script>